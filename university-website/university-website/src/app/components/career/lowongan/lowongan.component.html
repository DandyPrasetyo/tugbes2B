<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div *ngFor="let job of filteredLowongan" class="job-card">
    <div class="flex items-center gap-4 mb-4">
      <img
        *ngIf="job.flayer"
        [src]="posterBaseUrl + job.flayer"
        class="h-14 w-14 rounded-lg object-cover border"
      />

      <div>
        <!-- Judul lowongan (kolom Judul Lowongan) -->
        <h2 class="text-xl font-bold text-blue-800">
          {{ job.judul || job.judulLowongan || job.posisi }}
        </h2>

        <!-- Posisi (kolom Posisi) -->
        <p class="text-sm text-gray-700" *ngIf="job.posisi">
          ğŸ§‘â€ğŸ’¼ Posisi: <strong>{{ job.posisi }}</strong>
        </p>

        <p class="text-gray-700 font-medium">
          {{ job.perusahaan?.nama_perusahaan || job.perusahaan }}
        </p>
      </div>
    </div>

    <div class="text-gray-600 text-sm space-y-1">
      <p>
        ğŸ“ Lokasi:
        <strong>
          <a
            [href]="
              'https://www.google.com/maps/search/?api=1&query=' +
              (job.lokasi || job.perusahaan?.alamat)
            "
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-700 underline"
          >
            {{ job.lokasi || job.perusahaan?.alamat }}
          </a>
        </strong>
      </p>

      <!-- Deskripsi dari backend -->
      <p *ngIf="job.deskripsi">
        ğŸ“ Deskripsi:
        <span>{{ job.deskripsi }}</span>
      </p>

      <p>
        ğŸ’¼ Tipe:
        <strong>{{ job.tipePekerjaan || job.tipe }}</strong>
      </p>
      <p>
        ğŸ“… Diposting:
        <strong>{{ job.createdAt || job.posted || '-' }}</strong>
      </p>
      <p>
        â³ Deadline:
        <strong>{{ job.batasTanggal || job.deadline }}</strong>
      </p>

      <p class="mt-2">
        <!-- STATUS TERSEDIA -->
        <span
          *ngIf="job.status === 'Aktif' || job.status === 'Tersedia'"
          class="text-green-600 font-semibold"
        >
          ğŸŸ¢ {{ job.status === 'Aktif' ? 'Tersedia' : job.status }}
        </span>

        <!-- STATUS DITUTUP -->
        <span
          *ngIf="job.status === 'Tutup' || job.status === 'Ditutup'"
          class="text-red-600 font-semibold"
        >
          ğŸ”´ {{ job.status === 'Tutup' ? 'Ditutup' : job.status }}
        </span>
      </p>
    </div>

    <button class="btn-detail mt-4">Lihat Detail â†’</button>
  </div>

  <div
    *ngIf="filteredLowongan.length === 0"
    class="col-span-full text-center text-gray-500 py-8"
  >
    Belum ada lowongan yang cocok dengan filter.
  </div>
</div>
